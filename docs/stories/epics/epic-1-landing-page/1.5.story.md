# Story 1.5 — Otimização de Performance

**Épico:** EPIC-1 (Landing Page)
**Status:** Ready
**Pontos:** 3
**Requisito:** NFR-001

## Executor Assignment
- **executor:** @dev
- **quality_gate:** @architect
- **quality_gate_tools:** [Lighthouse CLI, WebPageTest, Core Web Vitals report]

## Dependencies
- Nenhuma (independente, mas recomendado rodar após 1.2 para medir impacto de analytics)

---

## User Story
**Como** visitante acessando a ZENT I.A. pelo celular,
**Eu quero** que a página carregue rapidamente,
**Para que** eu não desista de conhecer a plataforma por lentidão.

## Acceptance Criteria

- [ ] **AC-1:** Lighthouse Performance score >= 90
- [ ] **AC-2:** First Contentful Paint (FCP) < 1.8s
- [ ] **AC-3:** Largest Contentful Paint (LCP) < 2.5s
- [ ] **AC-4:** Cumulative Layout Shift (CLS) < 0.1
- [ ] **AC-5:** Total Blocking Time (TBT) < 200ms
- [ ] **AC-6:** Imagens otimizadas (WebP/AVIF, lazy loading, dimensões corretas)
- [ ] **AC-7:** CSS e JS minificados no build de produção
- [ ] **AC-8:** Fontes com font-display: swap

## Scope

### IN
- Otimização de imagens
- Minificação CSS/JS (Vite config)
- Lazy loading
- Core Web Vitals

### OUT
- CDN setup (infraestrutura)
- Service Worker / PWA
- Server-side rendering

## Tasks
- [ ] Rodar Lighthouse audit e documentar baseline
- [ ] Otimizar imagens (converter para WebP, comprimir)
- [ ] Adicionar lazy loading em imagens abaixo da fold
- [ ] Configurar Vite para minificação e tree-shaking
- [ ] Adicionar font-display: swap em fontes customizadas
- [ ] Verificar e eliminar CSS/JS não utilizado
- [ ] Rodar Lighthouse novamente e confirmar score >= 90

## File List
- [ ] `vite.config.js` — Configuração de build otimizado
- [ ] `index.html` — Lazy loading, preload hints
- [ ] `css/style.css` — Font-display, CSS cleanup
- [ ] `assets/` — Imagens otimizadas

## Risks
- Otimização de imagens pode alterar qualidade visual
- Scripts de terceiros (analytics) podem impactar scores negativamente
- Vite tree-shaking pode remover CSS/JS necessário se não configurado corretamente

## Definition of Done
- [ ] Todas as ACs verificadas
- [ ] Lighthouse Performance >= 90
- [ ] FCP < 1.8s, LCP < 2.5s, CLS < 0.1, TBT < 200ms
- [ ] Imagens em WebP com fallback

## CodeRabbit Integration
> **CodeRabbit Integration**: Disabled
>
> CodeRabbit CLI is not enabled in `core-config.yaml`.
> Quality validation will use manual review process only.

## Testing
- Rodar Lighthouse antes (baseline) e depois (resultado)
- Testar em 3G throttled para verificar carregamento
- Verificar lazy loading: imagens abaixo da fold não carregam até scroll
- Verificar build de produção: `npm run build` → testar com `npm run preview`
- Core Web Vitals: testar via Chrome DevTools > Performance

## Change Log
| Data | Autor | Mudança |
|------|-------|---------|
| 2026-02-17 | @pm | Story criada |
| 2026-02-17 | @po | Validada — GO. Adicionadas seções obrigatórias |

## Dev Agent Record
*Preenchido pelo @dev durante implementação*

## QA Results
*Preenchido pelo @qa durante review*
